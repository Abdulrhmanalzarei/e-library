{% extends "base.html" %}
{% load static %}
{% block title %}My Orders{% endblock %}
{% block content %}
<h2>My Orders</h2>
{% for order in orders %}
  <div class="card p-3 mb-3">
    <div class="d-flex justify-content-between">
      <div>
        <strong>Order #{{ order.pk }}</strong>
        <div class="small text-muted">Placed on {{ order.created_at }}</div>
      </div>
      <div class="text-end">
        <div>{{ order.get_status_display }}</div>
        <div class="fw-bold">${{ order.total|floatformat:2 }}</div>
      </div>
    </div>
    <div class="mt-2 small">
      {% for item in order.items.all %}
        <div>{{ item.quantity }} Ã— {{ item.book.title }}</div>
      {% endfor %}
    </div>
    <div class="mt-2 text-end">
      <a class="btn btn-sm btn-outline-primary" href="{% url 'orders:order_confirmation' order.pk %}">View</a>
    </div>
  </div>
{% empty %}
  <p class="text-muted">You haven't placed any orders yet.</p>
{% endfor %}
{% endblock %}
